---
title: linux下 安装tesseract和 python使用tesseract-ocr进行图片识别

date: #文章日期格式：2018-05-30 15:20:36

tags: 
- python
- AI
categories:
- AI
---

centos7安装依赖库
```bash
yum install -y automake autoconf libtool gcc gcc-c++ 
yum install -y libpng-devel libjpeg-devel libtiff-devel
yum -y install  python-devel
yum -y install openssl-devel   
yum -y install opencv 
yum install -y libffi libffi-devel
yum install libmount  -y
```

如果需要tesseract，则需要安装leptonica
```bash
http://www.leptonica.org/download.html
https://github.com/DanBloomberg/leptonica

wget https://github.com/DanBloomberg/leptonica/archive/1.79.0.zip
unzip 1.79.0.zip
cd 1.79.0/
./autogen.sh
./configure 
make && make install
```

**安装tesseract4 .0**
```bash
https://github.com/tesseract-ocr/tesseract

wget https://github.com/tesseract-ocr/tesseract/archive/5.0.0-alpha.zip
或者下面这个
wget http://linux-1251121573.cosgz.myqcloud.com/soft/tesseract/4.0.0-beta.1.tar.gz

unzip master.zip
cd tesseract-master/
./autogen.sh
./configure
make && make install
ldconfig
```
### ./configure报错
```bash
configure: error: Leptonica 1.74 or higher is required. Try to install libleptonica-dev package.
```
### Leptonica 1.74 or higher is required. 的解决办法
```bash
pkg-config的检查可以在 terminal 中输入
pkg-config
如果提示 command not found, 那说明本机没有 pkg-config, 通过 
yum install pkg-config 
或 
apt-get install pkg-config 
来进行安装.

开始添加环境变量
vim /etc/profile 
在文件最后加入以下几行文本:
export LD_LIBRARY_PATH=$LD_LIBRARY_PAYT:/usr/local/lib
export LIBLEPT_HEADERSDIR=/usr/local/include
export PKG_CONFIG_PATH=/usr/local/lib/pkgconfig
编辑好后在 terminal中输入
source /etc/profile
回到 tesseract 源码文件夹下
make && make install
```
### 5.安装中英文语言包。

找到在百度云盘下载的那些文件中的剩余文件，即chi_sim.traineddata、eng.traineddata、eng.traineddata.part三个文件，并把它们放到根目录中。

这个时候我们先来查看一下在/usr/local/share中是否有tessdata文件夹：
```bash
cd /usr/local/share
ls
```


发现确实已有tessdata文件夹，接着我们将刚刚的三个文件拷贝到tessdata文件夹下：
```bash
cp chi_sim.traineddata /usr/local/share/tessdata
cp eng.traineddata /usr/local/share/tessdata
cp eng.traineddata.part /usr/local/share/tessdata
```
到现在基本的安装编译工作已经完成。接着进行测试。



